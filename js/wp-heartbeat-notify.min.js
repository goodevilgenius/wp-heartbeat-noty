jQuery(document).ready(function($){function send_popup(a,b,c,d){a=a!==''?'<span class="title">'+a+'</span>':'';b=b!==''?b:'';c=c!==''?c:'update';d=typeof d==='number'?d:20000;var e=$('<div/>',{class:'popup_notification '+c,html:a+b+'<span class="close">&times;</span>'});$('#popup_container').prepend(e);$(e).hide().fadeIn(500);setTimeout(function(){$(e).slideUp(500)},d)}$('<div/>',{id:'popup_container'}).appendTo('body');$('body').on('click','.close',function(){$(this).parent().slideUp(200)});var f;$(document).on('heartbeat-tick.my_tick',function(e,c){if(!c['message'])return;$.each(c['message'],function(a,b){if(a!=f){send_popup(b['title'],b['content'],b['type'])}f=a})})});